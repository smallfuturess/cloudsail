<!doctype html>
<html lang="en"><head>
    <meta charset="utf-8">
    <title>JsDate集锦</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" type="text/css" href="../static/stylesheets/theme.css">
    <link rel="stylesheet" type="text/css" href="../static/stylesheets/premium.css">
    <link rel="stylesheet" type="text/css" href="../static/lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../static/lib/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="../static/common/css/commoncss.css">
    <script src="../static/lib/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="../static/cloudsailjs/cloudsail.js"></script>
    <script src="../static/common/js/commonjs.js"></script>
    <script src="../static/common/js/JsAlertComfirm.js"></script>
    <style>
        #ACSource1{
            margin-bottom: 0px!important;
        }
    </style>
</head>
<body class=" theme-blue">
<div class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="" href="index.html"><span class="navbar-brand"><span class="fa fa-paper-plane"></span>云帆手册</span></a></div>

    <div class="navbar-collapse collapse" style="height: 1px;">
        <ul id="main-menu" class="nav navbar-nav navbar-right">
            <li class="dropdown hidden-xs">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: #ffffff">
                    <span class="glyphicon glyphicon-user padding-right-small" style="position:relative;top: 3px;color: #ffffff"></span> Jack
                    <i class="fa fa-caret-down" style="color: #ffffff"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a tabindex="-1" href="sign-in.html">Logout</a></li>
                </ul>
            </li>
        </ul>

    </div>
</div>
</div>
<div class="sidebar-nav">
    <ul>
        <li><a href="#" data-target=".dashboard-menu" class="nav-header collapsed" data-toggle="collapse"><i class="fa fa-fw fa-dashboard"></i> Js 集锦<i class="fa fa-collapse"></i></a></li>
        <li><ul class="dashboard-menu nav nav-list collapse in">
            <li><a href="JsDate.html"><span class="fa fa-caret-right"></span> Js Date方法集锦</a></li>
            <li ><a href="JsAlertComfirm.html"><span class="fa fa-caret-right"></span> Js alert/comfirm重写</a></li>
            <li ><a href="JsPage.html"><span class="fa fa-caret-right"></span> Js 前端分页封装</a></li>
        </ul></li>

        <li><a href="#" data-target=".accounts-menu" class="nav-header collapsed" data-toggle="collapse"><i class="fa fa-fw fa-briefcase"></i> Java 集锦 <i class="fa fa-collapse"></i></a></li>
        <li><ul class="accounts-menu nav nav-list collapse">
            <li ><a href=""><span class="fa fa-caret-right"></span> Sign In</a></li>
        </ul></li>

        <li><a href="#" data-target=".legal-menu" class="nav-header collapsed" data-toggle="collapse"><i class="fa fa-fw fa-legal"></i> Others<i class="fa fa-collapse"></i></a></li>
        <li><ul class="legal-menu nav nav-list collapse">
            <li ><a href="../OthersSummary/Github.html"><span class="fa fa-caret-right"></span>GitHub快速上手</a></li>
            <li ><a href="../OthersSummary/Toolsdownload.html"><span class="fa fa-caret-right"></span>开发工具下载</a></li>
            <li ><a href="../OthersSummary/Website.html"><span class="fa fa-caret-right"></span> 常用网址</a></li>
        </ul></li>
    </ul>
</div>

<div class="content">
    <div class="header">
        <h1 class="page-title">Alert/Confirm重写</h1>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12">
            <ul>
                <li><a href="#Date1">Js alert/comfirm重写(外部文件引入：JQuery1.9及以上,bootstrap:bootstrap.css,bootstrap.js)</a></li>

            </ul>
        </div>
    </div>
    <!--Js alert重写-->
    <div class="row">
        <div class="col-sm-10 col-md-10" style="margin-top: 20px">
            <div class="panel-heading no-collapse" ><a name="Date1"><font style="color:#337ab7">Alert/Confirm重写</font></a></div>
        </div>
        <div class="col-sm-10 col-md-10" >
            <div class="panel panel-default">
                <div class="panel-heading col-md-12"><div class="col-md-8">函数名:alertwin</div>
                    <div class="col-md-4">
                        <div class="btn-group btn-group-xs" style="float: right">
                            <button type="button" class="btn btn-primary" id="alertconfirmSource1">源码查看</button>
                        </div>
                    </div>
                </div>
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <th width="40%">参数名</th>
                        <th>示例</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>message</td>
                        <td>"添加成功"</td>
                    </tr>
                    <tr>
                        <td>callback</td>
                        <td>回调函数</td>
                    </tr>
                    <tr>
                        <th>调用示例</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td>1个参数:Utils.alertwin("添加成功")</td>
                        <td><button type="button" class="btn btn-primary btn-sm" onclick="JsAlertConfrim('JsAlertConfrim1')">Alert1</button></td>
                    </tr>
                    <tr>
                        <td>2个参数:Utils.alertwin('添加成功',function(){alert("我是回调函数");})</td>
                        <td><button type="button" class="btn btn-primary btn-sm" onclick="JsAlertConfrim('JsAlertConfrim2')">Alert2</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!--Js confirm重写-->
    <div class="row">
        <div class="col-sm-10 col-md-10" >
            <div class="panel panel-default">
                <div class="panel-heading ">函数名:comfirmwin</div>
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <th width="40%">参数名</th>
                        <th>示例</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>message</td>
                        <td>"你确定要删除吗"</td>
                    </tr>
                    <tr>
                        <td>callback</td>
                        <td>回调函数</td>
                    </tr>
                    <tr>
                        <th>调用示例</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td>Utils.comfirmwin('你确定要删除吗',function(){alert("我是回调函数");})</td>
                        <td><button type="button" class="btn btn-primary btn-sm" onclick="JsAlertConfrim('JsAlertConfrim3')">删除</button></td>
                    </tr>
                    <tr>
                        <td colspan="2" class="tdcontent">
                            <div class="form-group" id="ACSource1" style="display: none">
                               <textarea class="form-control" rows="132" style="margin-left: 0px;" readonly="readonly">
                                   &nbsp;
                                /**Alert/Confirm重写 */
                                $(function() {
                                    var alerthtml = "<div class='modal fade' style='overflow:auto;overflow-y:scroll;' id='ycf-alert' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>"
                                        + "<div class='modal-dialog' style='width:350px;margin-top:250px;'>"
                                        + "<div class='modal-content'>"
                                        + "<div class='modal-header'>"
                                        + "<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>"
                                        + "</button>"
                                        + "<h4 class='modal-title'>"
                                        + '[Title]'
                                        + "</h4>"
                                        + "</div>"
                                        + "<div class='modal-body'>"
                                        + "[Message]"
                                        + "</div>"
                                        + "<div class='modal-footer'>"
                                        + "<button type='button'  class='btn btn-default cancel' data-dismiss='modal'>[BtnCancel]"
                                        + "</button>"
                                        + "<button type='button' id='alertsure'  class='btn btn-primary ok'>"
                                        + "[BtnOk]" + "</button>" + "</div>" + "</div>" + "</div>" + "</div>";
                                    var oDiv = document.createElement('div');
                                    oDiv.innerHTML = alerthtml;
                                    document.body.appendChild(oDiv);
                                    window.Modal = function() {
                                        var reg = new RegExp("\\[([^\\[\\]]*?)\\]", 'igm');
                                        var alr = $("#ycf-alert");
                                        var ahtml = alr.html();
                                        var _alert = function(options) {
                                            alr.html(ahtml); // 复原
                                            alr.find('.ok').removeClass('btn-success').addClass('btn-primary');
                                            alr.find('.cancel').hide();
                                            _dialog(options);
                                            $("#alertsure").click(function() {
                                                $("#ycf-alert").modal('hide');
                                            });
                                            return {
                                                on : function(callback) {
                                                    if (callback && callback instanceof Function) {
                                                        alr.find('.ok').click(function() {
                                                            callback(true)
                                                        });
                                                    }
                                                }
                                            };
                                        };

                                        var _confirm = function(options) {
                                            alr.html(ahtml); // 复原
                                            // alr.find('.ok').removeClass('btn-primary').addClass('btn-success');
                                            alr.find('.cancel').show();
                                            _dialog(options);
                                            return {
                                                on : function(callback) {
                                                    if (callback && callback instanceof Function) {
                                                        alr.find('.ok').click(function() {
                                                            callback(true);
                                                            $("#ycf-alert").modal('hide');
                                                        });
                                                        alr.find('.cancel').click(function() {
                                                            callback(false);
                                                            $("#ycf-alert").modal('hide');
                                                        });
                                                    }
                                                }
                                            };
                                        };

                                        var _dialog = function(options) {
                                            var ops = {
                                                msg : "提示内容",
                                                title : "操作提示",
                                                btnok : "确定",
                                                btncl : "取消"
                                            };
                                            $.extend(ops, options);
                                            console.log(alr);
                                            var html = alr.html().replace(reg, function(node, key) {
                                                return {
                                                    Title : ops.title,
                                                    Message : ops.msg,
                                                    BtnOk : ops.btnok,
                                                    BtnCancel : ops.btncl
                                                }[key];
                                            });

                                            alr.html(html);
                                            alr.modal({
                                                width : 500,
                                                backdrop : 'static'
                                            });
                                        }
                                        return {
                                            alert : _alert,
                                            confirm : _confirm
                                        }
                                    }();
                                });

                                var _alertwin=function (message, callback) {
                                    var length = arguments.length;
                                    if (length == 1) {
                                        Modal.alert({
                                            msg : message
                                        }).on(function(e) {
                                            return;
                                        });
                                    } else {
                                        Modal.alert({
                                            msg : message
                                        }).on(function(e) {
                                            callback();
                                        });
                                    }
                                };

                                var _comfirmwin=function (message, callback){
                                    Modal.confirm({
                                        msg : message
                                    }).on(function(e) {
                                        if (e) {
                                            callback();
                                        }
                                    });
                                }
                               </textarea>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row" style="padding-bottom:200px;">
        <div style=" position:fixed; right:0px; bottom:10px; width:80px; height:45px; cursor:pointer" id="toTop" onclick="toTop()"><button type="button" class="btn btn-success" >返回顶部</button></div>
    </div>
</div>
</div>
</div>
<script src="../static/lib/bootstrap/js/bootstrap.js"></script>
</body>
</html>
